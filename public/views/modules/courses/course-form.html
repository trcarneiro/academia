<!-- Course Creation/Edit Form Module -->
<div class="courses-isolated">
    <!-- GUIDELINES2.MD: Header Premium Enhanced -->
    <header class="module-header-premium">
        <div class="header-left">
            <h1 class="page-title">
                <span class="title-icon">üìö</span>
                <span id="formTitle">Novo Curso</span>
            </h1>
            <nav class="breadcrumb">
                <a href="#" data-action="navigateToCourses">Cursos</a> &gt; <span id="breadcrumbCurrent">Novo</span>
            </nav>
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary" data-action="navigateToCourses">
                ‚Üê Voltar
            </button>
            <button class="btn btn-primary" id="saveCourseBtn">
                üíæ Salvar Curso
            </button>
            <button class="btn btn-import" id="importFromJsonBtn">
                üì• Importar JSON
            </button>
            <input type="file" id="importJsonFile" accept="application/json" style="display:none" />
        </div>
    </header>

    <!-- Form Container -->
    <div class="form-container">
        <!-- Loading State -->
        <div id="loadingState" class="loading-container" style="display: none;">
            <div class="loading-spinner"></div>
            <div class="loading-text">Salvando curso...</div>
        </div>

        <!-- Error State -->
        <div id="errorState" class="error-container" style="display: none;">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h3>Erro ao salvar</h3>
            <p id="errorMessage">Ocorreu um erro inesperado.</p>
            <button class="btn btn-primary" onclick="retrySave()">Tentar Novamente</button>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="basic">üìã B√°sico</button>
                <button class="tab-btn" data-tab="techniques">ü•ã T√©cnicas</button>
                <button class="tab-btn" data-tab="schedule">üìÖ Cronograma</button>
                <button class="tab-btn" data-tab="advanced">‚öôÔ∏è Avan√ßado</button>
            </div>

            <!-- Tab Content -->
            <div class="tabs-content">
                <!-- üìã Informa√ß√µes B√°sicas -->
                <div id="basic-tab" class="tab-pane active">
                    <section class="form-section">
                        <h2 class="section-title">
                            <span class="section-icon">üìã</span>
                            Informa√ß√µes B√°sicas
                        </h2>
                        <p class="section-subtitle">Configure as informa√ß√µes fundamentais do curso</p>

                        <div class="form-group">
                            <label for="courseId">ID do Curso</label>
                            <input type="text" id="courseId" name="courseId" placeholder="Ex: krav-maga-faixa-branca-2025">
                        </div>

                        <div class="form-group">
                            <label for="courseName">Nome do Curso *</label>
                            <input type="text" id="courseName" name="name" required placeholder="Ex: Krav Maga Faixa Branca">
                        </div>

                        <div class="form-group">
                            <label for="courseDescription">Descri√ß√£o do Curso</label>
                            <textarea id="courseDescription" name="description" rows="4" placeholder="Curso introdut√≥rio de Krav Maga para iniciantes..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="durationTotalWeeks">Dura√ß√£o Total (semanas)</label>
                            <input type="number" id="durationTotalWeeks" name="durationTotalWeeks" min="1" placeholder="18">
                        </div>

                        <div class="form-group">
                            <label for="totalLessons">Total de Aulas</label>
                            <input type="number" id="totalLessons" name="totalLessons" min="1" placeholder="35">
                        </div>

                        <div class="form-group">
                            <label for="lessonDurationMinutes">Dura√ß√£o da Aula (minutos)</label>
                            <input type="number" id="lessonDurationMinutes" name="lessonDurationMinutes" min="1" placeholder="60">
                        </div>

                        <div class="form-group">
                            <label for="difficulty">Dificuldade</label>
                            <select id="difficulty" name="difficulty">
                                <option value="Iniciante">Iniciante</option>
                                <option value="Intermedi√°rio">Intermedi√°rio</option>
                                <option value="Avan√ßado">Avan√ßado</option>
                                <option value="Especialista">Especialista</option>
                                <option value="Mestre">Mestre</option>
                            </select>
                        </div>

                        <!-- üéØ Objetivos -->
                        <h3 class="subsection-title">üéØ Objetivos</h3>
                        <div class="dynamic-list">
                            <div id="objectivesList" class="objectives-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addObjective()">
                                + Adicionar Objetivo
                            </button>
                        </div>

                        <!-- üì¶ Equipamentos -->
                        <h3 class="subsection-title">üì¶ Equipamentos Necess√°rios</h3>
                        <div class="dynamic-list">
                            <div id="equipmentList" class="equipment-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addEquipment()">
                                + Adicionar Equipamento
                            </button>
                        </div>
                    </section>
                </div>

                <!-- ü•ã T√©cnicas Tab -->
                <div id="techniques-tab" class="tab-pane">
                    <section class="form-section">
                        <h2 class="section-title">
                            <span class="section-icon">ü•ã</span>
                            T√©cnicas
                        </h2>
                        <p class="section-subtitle">Configure as t√©cnicas ensinadas no curso</p>

                        <!-- üèÉ Aquecimento -->
                        <h3 class="subsection-title">üèÉ Aquecimento</h3>
                        <div class="form-group">
                            <label for="warmupDescription">Descri√ß√£o do Aquecimento</label>
                            <textarea id="warmupDescription" name="warmupDescription" rows="3" placeholder="Corrida suave, alongamentos din√¢micos, saltos."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="warmupDuration">Dura√ß√£o (minutos)</label>
                            <input type="number" id="warmupDuration" name="warmupDuration" min="1" placeholder="5">
                        </div>

                        <div class="form-group">
                            <label for="warmupType">Tipo</label>
                            <input type="text" id="warmupType" name="warmupType" placeholder="STRETCH">
                        </div>

                        <!-- ü•ã T√©cnicas -->
                        <h3 class="subsection-title">ü•ã T√©cnicas do Curso</h3>
                        <div class="dynamic-list">
                            <div id="techniquesList" class="techniques-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addTechnique()">
                                + Adicionar T√©cnica
                            </button>
                        </div>

                        <!-- üß† Simula√ß√µes -->
                        <h3 class="subsection-title">üß† Simula√ß√µes</h3>
                        <div class="dynamic-list">
                            <div id="simulationsList" class="simulations-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addSimulation()">
                                + Adicionar Simula√ß√£o
                            </button>
                        </div>
                    </section>
                </div>

                <!-- üìÖ Cronograma Tab -->
                <div id="schedule-tab" class="tab-pane">
                    <section class="form-section">
                        <h2 class="section-title">
                            <span class="section-icon">üìÖ</span>
                            Cronograma
                        </h2>
                        <p class="section-subtitle">Configure o cronograma semanal do curso</p>

                        <!-- üìÖ Cronograma Semanal -->
                        <h3 class="subsection-title">üìÖ Cronograma Semanal</h3>
                        <div class="dynamic-list">
                            <div id="scheduleList" class="schedule-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addWeek()">
                                + Adicionar Semana
                            </button>
                        </div>

                        <!-- üèãÔ∏è Prepara√ß√£o F√≠sica -->
                        <h3 class="subsection-title">üèãÔ∏è Prepara√ß√£o F√≠sica</h3>
                        <div class="form-group">
                            <label for="physicalPrepDescription">Descri√ß√£o</label>
                            <textarea id="physicalPrepDescription" name="physicalPrepDescription" rows="3" placeholder="Exerc√≠cios para condicionamento f√≠sico..."></textarea>
                        </div>

                        <h4>Exerc√≠cios</h4>
                        <div class="dynamic-list">
                            <div id="exercisesList" class="exercises-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addExercise()">
                                + Adicionar Exerc√≠cio
                            </button>
                        </div>
                    </section>
                </div>

                <!-- ‚öôÔ∏è Avan√ßado Tab -->
                <div id="advanced-tab" class="tab-pane">
                    <section class="form-section">
                        <h2 class="section-title">
                            <span class="section-icon">‚öôÔ∏è</span>
                            Configura√ß√µes Avan√ßadas
                        </h2>
                        <p class="section-subtitle">Configure recursos avan√ßados do curso</p>

                        <!-- üìö Recursos de Apoio -->
                        <h3 class="subsection-title">üìö Recursos de Apoio</h3>
                        <div class="dynamic-list">
                            <div id="supportResourcesList" class="support-resources-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addSupportResource()">
                                + Adicionar Recurso
                            </button>
                        </div>

                        <!-- üìù Notas Gerais -->
                        <h3 class="subsection-title">üìù Notas Gerais</h3>
                        <div class="dynamic-list">
                            <div id="generalNotesList" class="general-notes-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addGeneralNote()">
                                + Adicionar Nota
                            </button>
                        </div>

                        <!-- üéÆ Gamifica√ß√£o -->
                        <h3 class="subsection-title">üéÆ Gamifica√ß√£o</h3>
                        <div class="form-group">
                            <label for="gamificationDescription">Descri√ß√£o</label>
                            <textarea id="gamificationDescription" name="gamificationDescription" rows="3" placeholder="Sistema de recompensas para motivar os alunos..."></textarea>
                        </div>

                        <h4>Recompensas</h4>
                        <div class="dynamic-list">
                            <div id="rewardsList" class="rewards-list">
                                <!-- Dynamic items will be added here -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addReward()">
                                + Adicionar Recompensa
                            </button>
                        </div>

                        <!-- üèÅ Evento Final -->
                        <h3 class="subsection-title">üèÅ Evento Final</h3>
                        <div class="form-group">
                            <label for="finalEventDescription">Descri√ß√£o</label>
                            <textarea id="finalEventDescription" name="finalEventDescription" rows="3" placeholder="Demonstra√ß√£o pr√°tica e avalia√ß√£o final..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="finalEventDuration">Dura√ß√£o (minutos)</label>
                            <input type="number" id="finalEventDuration" name="finalEventDuration" min="1" placeholder="120">
                        </div>

                        <div class="form-group">
                            <label for="finalEventType">Tipo</label>
                            <input type="text" id="finalEventType" name="finalEventType" placeholder="ASSESSMENT">
                        </div>

                        <div class="form-group">
                            <label for="finalEventDate">Data</label>
                            <input type="text" id="finalEventDate" name="finalEventDate" placeholder="Final da semana 18">
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Load CSS and JS -->
<link rel="stylesheet" href="/css/modules/courses/course-form-tabs.css">
<script src="/js/modules/courses/controllers/courseFormController.js"></script>
