<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor de Turma - Academia Krav Maga</title>
</head>
<body>
    <div class="turma-editor-container module-isolated-turma-editor">
        <!-- Header Premium -->
        <div class="module-header-premium">
            <div class="header-content">
                <div class="breadcrumb-nav">
                    <span class="breadcrumb-item" onclick="window.navigateToModule('turmas')">üë• Turmas</span>
                    <span class="breadcrumb-separator">‚Ä∫</span>
                    <span class="breadcrumb-item active" id="breadcrumb-action">Nova Turma</span>
                </div>
                <h1 class="header-title" id="editor-title">‚ú® Nova Turma</h1>
                <p class="header-subtitle">Configure uma nova turma para execu√ß√£o do curso</p>
            </div>
            <div class="header-actions">
                <button type="button" class="btn btn-secondary" onclick="window.navigateToModule('turmas')">
                    ‚Üê Voltar
                </button>
                <button type="button" class="btn btn-primary" id="save-turma-btn">
                    üíæ Salvar Turma
                </button>
            </div>
        </div>

        <!-- Loading State -->
        <div id="turma-editor-loading" class="loading-container" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Carregando dados da turma...</p>
        </div>

        <!-- Error State -->
        <div id="turma-editor-error" class="error-container" style="display: none;">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h3>Erro ao carregar turma</h3>
            <p id="error-message">N√£o foi poss√≠vel carregar os dados da turma.</p>
            <button type="button" class="btn btn-primary" onclick="window.navigateToModule('turmas')">
                Voltar √†s Turmas
            </button>
        </div>

        <!-- Main Content -->
        <div id="turma-editor-content" class="editor-content">
            <!-- Tabs Navigation -->
            <div class="form-tabs-nav">
                <button type="button" id="tab-btn-general" class="tab-btn active">Geral</button>
                <button type="button" id="tab-btn-courses" class="tab-btn">Cursos</button>
                <button type="button" id="tab-btn-personal" class="tab-btn">Personal</button>
            </div>

            <div class="form-tabs-content">
                <div id="tab-general" class="tab-panel active">
                    <form id="turma-form" class="form-premium">
                        <!-- Informa√ß√µes B√°sicas -->
                        <div class="form-section">
                    <h3 class="section-title">üìã Informa√ß√µes B√°sicas</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="turma-name" class="form-label required">Nome da Turma</label>
                            <input type="text" id="turma-name" name="name" class="form-input" required 
                                   placeholder="Ex: Krav Maga Iniciante - Noturno"
                                   value="">
                            <small class="form-help">Nome identificador da turma</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Cursos</label>
                            <p class="form-help">O curso principal e cursos associados s√£o gerenciados na aba "Cursos".</p>
                        </div>

                        <div class="form-group">
                            <label for="turma-type" class="form-label required">Tipo</label>
                            <select id="turma-type" name="type" class="form-select" required>
                                <option value="">Selecione o tipo...</option>
                                <option value="COLLECTIVE">üë• Coletiva</option>
                                <option value="PRIVATE">üë§ Individual</option>
                                <option value="SEMI_PRIVATE">üë•üë§ Semi-privada</option>
                            </select>
                            <small class="form-help">Modalidade da turma</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-instructor" class="form-label required">Instrutor</label>
                            <select id="turma-instructor" name="instructorId" class="form-select" required>
                                <option value="">Selecione um instrutor...</option>
                            </select>
                            <small class="form-help">Instrutor respons√°vel pela turma</small>
                        </div>
                    </div>
                </div>

                <!-- Cronograma -->
                <div class="form-section">
                    <h3 class="section-title">üìÖ Cronograma</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="turma-start-date" class="form-label required">Data de In√≠cio</label>
                            <input type="date" id="turma-start-date" name="startDate" class="form-input" required 
                                   value="2025-09-01">
                            <small class="form-help">Primeira aula da turma</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-end-date" class="form-label">Data de T√©rmino</label>
                            <input type="date" id="turma-end-date" name="endDate" class="form-input"
                                   value="2025-12-31">
                            <small class="form-help">√öltima aula prevista (opcional)</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-time" class="form-label required">Hor√°rio</label>
                            <input type="time" id="turma-time" name="time" class="form-input" required
                                   value="19:00">
                            <small class="form-help">Hor√°rio de in√≠cio das aulas</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-duration" class="form-label required">Dura√ß√£o (minutos)</label>
                            <input type="number" id="turma-duration" name="duration" class="form-input" 
                                   min="1" max="180" step="1" value="90" required>
                            <small class="form-help">Dura√ß√£o de cada aula em minutos</small>
                        </div>
                    </div>

                    <!-- Dias da Semana -->
                    <div class="form-group">
                        <label class="form-label required">Dias da Semana</label>
                        <div class="weekdays-selector">
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="1" checked>
                                <span class="weekday-label">Seg</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="2">
                                <span class="weekday-label">Ter</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="3" checked>
                                <span class="weekday-label">Qua</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="4">
                                <span class="weekday-label">Qui</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="5">
                                <span class="weekday-label">Sex</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="6">
                                <span class="weekday-label">S√°b</span>
                            </label>
                            <label class="weekday-item">
                                <input type="checkbox" name="daysOfWeek" value="0">
                                <span class="weekday-label">Dom</span>
                            </label>
                        </div>
                        <small class="form-help">Selecione os dias em que a turma acontece</small>
                    </div>
                </div>

                <!-- Configura√ß√µes Avan√ßadas -->
                <div class="form-section">
                    <h3 class="section-title">‚öôÔ∏è Configura√ß√µes</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="turma-max-students" class="form-label">M√°ximo de Alunos</label>
                            <input type="number" id="turma-max-students" name="maxStudents" class="form-input" 
                                   min="1" max="50" value="20">
                            <small class="form-help">Limite de alunos na turma</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-unit" class="form-label">Unidade</label>
                            <select id="turma-unit" name="unitId" class="form-select">
                                <option value="">Selecione uma unidade...</option>
                            </select>
                            <small class="form-help">Local onde acontecem as aulas</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-training-area" class="form-label">√Årea de Treino</label>
                            <select id="turma-training-area" name="trainingAreaId" class="form-select">
                                <option value="">Selecione uma √°rea de treino...</option>
                            </select>
                            <small class="form-help">√Årea espec√≠fica dentro da unidade</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-room" class="form-label">Sala/Ambiente</label>
                            <input type="text" id="turma-room" name="room" class="form-input" 
                                   placeholder="Ex: Sala 1, Tatame Principal">
                            <small class="form-help">Ambiente espec√≠fico da unidade</small>
                        </div>

                        <div class="form-group">
                            <label for="turma-price" class="form-label">Valor (R$)</label>
                            <input type="number" id="turma-price" name="price" class="form-input" 
                                   min="0" step="0.01" placeholder="0,00">
                            <small class="form-help">Valor da mensalidade (opcional)</small>
                        </div>
                    </div>
                </div>

                <!-- Descri√ß√£o -->
                <div class="form-section">
                    <h3 class="section-title">üìù Descri√ß√£o</h3>
                    
                    <div class="form-group">
                        <label for="turma-description" class="form-label">Descri√ß√£o da Turma</label>
                        <textarea id="turma-description" name="description" class="form-textarea" 
                                  rows="4" placeholder="Informa√ß√µes adicionais sobre a turma..."></textarea>
                        <small class="form-help">Detalhes importantes sobre esta turma</small>
                    </div>
                </div>

                    </form>
                </div>

                <div id="tab-courses" class="tab-panel" style="display:none">
                    <div class="form-section">
                        <h3 class="section-title">üéì Cursos Associados</h3>
                        <div class="form-group">
                            <p>Associe cursos adicionais √† turma. Use "Adicionar Curso" para selecionar.</p>
                            <div style="margin-top:8px;">
                                <button type="button" class="btn btn-secondary" id="add-course-btn">‚ûï Adicionar Curso</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <div id="selected-courses" class="selected-courses-list">
                                <!-- Lista de cursos associados ser√° renderizada aqui -->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab-personal" class="tab-panel" style="display:none">
                    <div class="form-section">
                        <h3 class="section-title">üë§ Sess√µes de Personal Training</h3>
                        <p class="section-description">Gerencie sess√µes individuais e personalizadas de treino</p>
                        
                        <div class="personal-sessions-controls">
                            <button type="button" class="btn btn-primary" id="add-personal-session-btn">
                                ‚ûï Nova Sess√£o Personal
                            </button>
                            <button type="button" class="btn btn-secondary" id="import-from-agenda-btn">
                                üìÖ Importar da Agenda
                            </button>
                        </div>

                        <div class="personal-sessions-list" id="personal-sessions-list">
                            <!-- Lista de sess√µes pessoais ser√° renderizada aqui -->
                        </div>
                    </div>
                </div>

            </div>

            <!-- Modal placeholder for course picker -->
            <div id="courses-modal" style="display:none"></div>
        </div>

        <!-- Success State -->
        <div id="turma-editor-success" class="success-container" style="display: none;">
            <div class="success-icon">‚úÖ</div>
            <h3>Turma salva com sucesso!</h3>
            <p id="success-message">A turma foi criada e est√° pronta para receber alunos.</p>
            <div class="success-actions">
                <button type="button" class="btn btn-secondary" onclick="window.navigateToModule('turmas')">
                    Ver Todas as Turmas
                </button>
                <button type="button" class="btn btn-primary" id="view-turma-btn">
                    Ver Turma Criada
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>
</body>
</html>
