<!-- 
  GRADUATION MODULE - POC v1.0
  M√≥dulo de Gradua√ß√£o com gest√£o de progresso de alunos
  Padr√£o: AGENTS.md v2.0 - Full-screen UI, Premium Design
-->

<div id="graduationContainer" class="graduation-container module-container">
    
    <!-- ============================================
         HEADER WITH BREADCRUMB
         ============================================ -->
    <div class="module-header-premium">
        <div class="header-content">
            <div class="breadcrumb">
                <span>Academia</span>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <span class="breadcrumb-current">Gradua√ß√£o</span>
            </div>
            <h1>üéì Gest√£o de Gradua√ß√£o</h1>
            <p class="header-subtitle">Acompanhamento e registro de progresso de alunos</p>
        </div>
        
        <!-- Action Buttons -->
        <div class="header-actions">
            <button class="btn btn-secondary" onclick="window.graduationModule?.exportProgress()">
                üìä Exportar Relat√≥rio
            </button>
            <button class="btn btn-primary" onclick="window.graduationModule?.openBulkRegistration()">
                ‚ûï Registro em Lote
            </button>
        </div>
    </div>

    <!-- ============================================
         STATS CARDS
         ============================================ -->
    <div class="stats-grid">
        <div class="stat-card-enhanced stat-gradient-primary">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
                <div class="stat-value" id="stat-total-students">0</div>
                <div class="stat-label">Total de Alunos</div>
            </div>
        </div>
        
        <div class="stat-card-enhanced stat-gradient-success">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-info">
                <div class="stat-value" id="stat-ready">0</div>
                <div class="stat-label">Prontos para Gradua√ß√£o</div>
            </div>
        </div>
        
        <div class="stat-card-enhanced stat-gradient-warning">
            <div class="stat-icon">‚ö†Ô∏è</div>
            <div class="stat-info">
                <div class="stat-value" id="stat-pending">0</div>
                <div class="stat-label">Requer Aten√ß√£o</div>
            </div>
        </div>
    </div>

    <!-- ============================================
         TABS NAVIGATION
         ============================================ -->
    <div class="tabs-navigation-premium">
        <button class="tab-btn active" data-tab="students" onclick="window.graduationModule?.switchTab('students')">
            üë• Alunos
        </button>
        <button class="tab-btn" data-tab="requirements" onclick="window.graduationModule?.switchTab('requirements')">
            üìã Requisitos do Curso
        </button>
    </div>

    <!-- ============================================
         TAB 1: STUDENTS (ALUNOS)
         ============================================ -->
    <div id="studentsTab" class="tab-content active">
        
        <!-- Filters Section -->
        <div class="module-filters-premium">
            <div class="filter-group">
                <label for="filter-course">üìö Curso</label>
                <select id="filter-course" class="filter-select">
                    <option value="">Todos os cursos</option>
                    <!-- Populated by JS -->
                </select>
            </div>
            
            <div class="filter-group">
                <label for="filter-belt">ü•ã Grau Atual</label>
                <select id="filter-belt" class="filter-select">
                    <option value="">Todos os graus</option>
                    <option value="white">Branca</option>
                    <option value="yellow">Amarela</option>
                    <option value="orange">Laranja</option>
                    <option value="green">Verde</option>
                    <option value="blue">Azul</option>
                    <option value="brown">Marrom</option>
                    <option value="black">Preta</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="filter-status">üìä Status</label>
                <select id="filter-status" class="filter-select">
                    <option value="">Todos</option>
                    <option value="ready">‚úÖ Pronto para Gradua√ß√£o</option>
                    <option value="in-progress">üîÑ Em Progresso</option>
                    <option value="needs-attention">‚ö†Ô∏è Requer Aten√ß√£o</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="search-student">üîç Buscar Aluno</label>
                <input 
                    type="text" 
                    id="search-student" 
                    class="filter-input" 
                    placeholder="Nome ou matr√≠cula..."
                >
            </div>
        </div>

        <!-- Students List -->
        <div id="studentsList" class="students-grid">
            <!-- Populated by JS -->
            <!-- Loading State -->
            <div id="studentsLoading" class="loading-state" style="display: none;">
                <div class="spinner"></div>
                <p>Carregando alunos...</p>
            </div>
            
            <!-- Empty State -->
            <div id="studentsEmpty" class="empty-state" style="display: none;">
                <i class="icon-large">üéì</i>
                <h3>Nenhum aluno encontrado</h3>
                <p>Ajuste os filtros ou matricule novos alunos</p>
            </div>
        </div>

    </div>

    <!-- ============================================
         TAB 2: COURSE REQUIREMENTS (REQUISITOS)
         ============================================ -->
    <div id="requirementsTab" class="tab-content" style="display: none;">
        
        <!-- Course Selector -->
        <div class="module-filters-premium">
            <div class="filter-group">
                <label for="requirements-course">üìö Curso</label>
                <select id="requirements-course" class="filter-select">
                    <option value="">Selecione um curso</option>
                    <!-- Populated by JS -->
                </select>
            </div>
        </div>

        <!-- Requirements Display -->
        <div id="requirementsList" class="requirements-container">
            <!-- Populated by JS -->
            
            <!-- Empty State -->
            <div id="requirementsEmpty" class="empty-state">
                <i class="icon-large">üìã</i>
                <h3>Selecione um curso</h3>
                <p>Escolha um curso acima para ver os requisitos de gradua√ß√£o</p>
            </div>
        </div>

    </div>

</div>

<!-- ============================================
     STUDENT DETAIL MODAL (Full-screen)
     ============================================ -->
<div id="studentDetailModal" class="modal-fullscreen" style="display: none;">
    <div class="modal-content-fullscreen">
        
        <!-- Modal Header -->
        <div class="modal-header-premium">
            <div class="header-content">
                <div class="breadcrumb">
                    <span class="breadcrumb-item" onclick="window.graduationModule?.closeStudentDetail()">üéì Gradua√ß√£o</span>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-item active" id="studentDetailName">Aluno</span>
                </div>
                <h2 class="modal-title">
                    <span id="studentDetailAvatar" class="student-avatar">üë§</span>
                    <span id="studentDetailFullName">Carregando...</span>
                </h2>
                <div class="student-meta">
                    <span class="meta-badge" id="studentDetailBelt">ü•ã Faixa Branca</span>
                    <span class="meta-badge" id="studentDetailProgress">üìä 0% Completo</span>
                    <span class="meta-badge" id="studentDetailCourse">üìö Curso</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="window.graduationModule?.closeStudentDetail()">
                    ‚úñÔ∏è Fechar
                </button>
                <button class="btn btn-primary" onclick="window.graduationModule?.saveStudentProgress()">
                    üíæ Salvar Progresso
                </button>
            </div>
        </div>

        <!-- Modal Body -->
        <div class="modal-body-fullscreen">
            
            <!-- Progress Summary Cards -->
            <div class="summary-cards-grid">
                <!-- Quantitative Progress -->
                <div class="stat-card-enhanced">
                    <div class="stat-icon">üî¢</div>
                    <div class="stat-content">
                        <div class="stat-label">Progresso Quantitativo</div>
                        <div class="stat-value" id="quantitativeProgress">0/0</div>
                        <div class="stat-sublabel">Atividades registradas</div>
                    </div>
                </div>
                
                <!-- Qualitative Progress -->
                <div class="stat-card-enhanced">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-content">
                        <div class="stat-label">Progresso Qualitativo</div>
                        <div class="stat-value" id="qualitativeProgress">0%</div>
                        <div class="stat-sublabel">Avalia√ß√£o m√©dia</div>
                    </div>
                </div>
                
                <!-- Check-ins -->
                <div class="stat-card-enhanced">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-content">
                        <div class="stat-label">Check-ins</div>
                        <div class="stat-value" id="checkinsCount">0</div>
                        <div class="stat-sublabel">Aulas frequentadas</div>
                    </div>
                </div>
                
                <!-- Manual Registrations -->
                <div class="stat-card-enhanced">
                    <div class="stat-icon">‚úèÔ∏è</div>
                    <div class="stat-content">
                        <div class="stat-label">Registros Manuais</div>
                        <div class="stat-value" id="manualRegistrations">0</div>
                        <div class="stat-sublabel">Sem check-in</div>
                    </div>
                </div>
            </div>

            <!-- Activities Table -->
            <div class="data-card-premium" style="margin-top: 2rem;">
                <div class="card-header">
                    <h3>üìã Atividades do Curso</h3>
                    <div class="card-actions">
                        <button class="btn btn-sm btn-secondary" onclick="window.graduationModule?.toggleViewMode()">
                            <span id="viewModeIcon">üìã</span> <span id="viewModeText">Modo Tabela</span>
                        </button>
                    </div>
                </div>
                
                <div class="card-body">
                    <!-- Activities Grid/Table -->
                    <div id="activitiesContainer">
                        <table class="activities-table">
                            <thead>
                                <tr>
                                    <th style="width: 50px;">#</th>
                                    <th>Atividade</th>
                                    <th style="width: 120px;">Categoria</th>
                                    <th style="width: 150px;">Progresso Quantitativo</th>
                                    <th style="width: 150px;">Avalia√ß√£o Qualitativa</th>
                                    <th style="width: 120px;">Origem</th>
                                    <th style="width: 100px;">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="activitiesTableBody">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Manual Registration Form -->
            <div id="manualRegistrationForm" class="data-card-premium" style="margin-top: 2rem; display: none;">
                <div class="card-header">
                    <h3>‚úèÔ∏è Registro Manual de Atividade</h3>
                    <button class="btn btn-sm btn-secondary" onclick="window.graduationModule?.closeManualForm()">
                        ‚úñÔ∏è Cancelar
                    </button>
                </div>
                <div class="card-body">
                    <form id="manualActivityForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>üìã Atividade</label>
                                <select id="manual-activity" class="form-input" required>
                                    <option value="">Selecione...</option>
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>üìÖ Data de Execu√ß√£o</label>
                                <input type="date" id="manual-date" class="form-input" required>
                            </div>
                            
                            <div class="form-group">
                                <label>üî¢ Repeti√ß√µes/Tempo</label>
                                <input type="number" id="manual-quantity" class="form-input" placeholder="Ex: 50" required>
                            </div>
                            
                            <div class="form-group">
                                <label>‚≠ê Avalia√ß√£o Qualitativa (1-5)</label>
                                <div class="rating-selector">
                                    <button type="button" class="rating-btn" data-rating="1">1‚≠ê</button>
                                    <button type="button" class="rating-btn" data-rating="2">2‚≠ê</button>
                                    <button type="button" class="rating-btn" data-rating="3">3‚≠ê</button>
                                    <button type="button" class="rating-btn" data-rating="4">4‚≠ê</button>
                                    <button type="button" class="rating-btn" data-rating="5">5‚≠ê</button>
                                </div>
                                <input type="hidden" id="manual-rating" required>
                            </div>
                            
                            <div class="form-group full-width">
                                <label>üìù Observa√ß√µes (opcional)</label>
                                <textarea id="manual-notes" class="form-input" rows="3" placeholder="Coment√°rios sobre a execu√ß√£o..."></textarea>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                üíæ Salvar Registro
                            </button>
                        </div>
                    </form>
                </div>
            </div>

        </div>

    </div>
</div>
