<!DOCTYPE html>
<html>
<head>
    <title>Courses Module Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .course-card { border: 1px solid #ddd; margin: 10px 0; padding: 15px; border-radius: 5px; }
        .loading { color: #666; font-style: italic; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>Courses Module Test</h1>
    <div id="test-results">
        <div class="loading">Testing courses module...</div>
    </div>
    
    <script>
        async function testCoursesModule() {
            const results = document.getElementById('test-results');
            
            try {
                // Test 1: Check if courses.json is accessible
                const coursesResponse = await fetch('/data/courses.json');
                if (coursesResponse.ok) {
                    const coursesData = await coursesResponse.json();
                    results.innerHTML += '<div class="success">‚úÖ courses.json loaded successfully</div>';
                    results.innerHTML += `<div>üìö Found ${coursesData.length} courses</div>`;
                    
                    // Test 2: Check if courses.js is accessible
                    const jsResponse = await fetch('/js/modules/courses.js');
                    if (jsResponse.ok) {
                        results.innerHTML += '<div class="success">‚úÖ courses.js loaded successfully</div>';
                        
                        // Test 3: Check if courses.html is accessible
                        const htmlResponse = await fetch('/views/courses.html');
                        if (htmlResponse.ok) {
                            results.innerHTML += '<div class="success">‚úÖ courses.html loaded successfully</div>';
                            
                            // Test 4: Simulate data mapping
                            const mappedData = coursesData.map(course => ({
                                id: course.id,
                                name: course.title,
                                category: course.category === 'BEGINNER' ? 'Iniciante' : 
                                         course.category === 'INTERMEDIATE' ? 'Intermedi√°rio' : course.category,
                                level: course.category.toLowerCase(),
                                totalLessons: course.duration || 24,
                                studentsCount: 0,
                                avgProgress: 0,
                                status: course.active ? 'active' : 'draft',
                                duration: `${course.duration || 24} aulas`,
                                techniques: course.duration || 24,
                                description: course.description || '',
                                targetAudience: course.targetAudience || ''
                            }));
                            
                            results.innerHTML += '<div class="success">‚úÖ Data mapping successful</div>';
                            results.innerHTML += '<div><strong>Mapped courses:</strong></div>';
                            
                            mappedData.forEach(course => {
                                results.innerHTML += `
                                    <div class="course-card">
                                        <strong>${course.name}</strong><br>
                                        Categoria: ${course.category}<br>
                                        Dura√ß√£o: ${course.duration}<br>
                                        Status: ${course.status}
                                    </div>
                                `;
                            });
                            
                        } else {
                            results.innerHTML += '<div class="error">‚ùå courses.html not accessible</div>';
                        }
                    } else {
                        results.innerHTML += '<div class="error">‚ùå courses.js not accessible</div>';
                    }
                } else {
                    results.innerHTML += '<div class="error">‚ùå courses.json not accessible</div>';
                }
                
            } catch (error) {
                results.innerHTML += `<div class="error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        testCoursesModule();
    </script>
</body>
</html>