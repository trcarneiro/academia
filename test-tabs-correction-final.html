<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Final - Sistema de Abas Corrigido</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Base styles */
        body {
            margin: 0;
            background: #0F172A;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #F8FAFC;
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 16px;
            border: 1px solid #334155;
        }
        
        /* CRITICAL: Tab System CSS - Anti-Overlapping */
        .tab-container {
            position: relative;
            z-index: 100;
            margin-bottom: 2rem;
        }
        
        .tab-navigation {
            display: flex;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 0.5rem;
            border: 1px solid #334155;
            gap: 0.25rem;
        }
        
        .page-tab {
            flex: 1;
            padding: 0.75rem 1rem;
            background: transparent;
            color: #CBD5E1;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .page-tab:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #3B82F6;
        }
        
        .page-tab.active {
            background: #3B82F6;
            color: #FFFFFF;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        /* CRITICAL: Content Container - Prevents Overlapping */
        .tab-content-container {
            position: relative;
            min-height: 500px;
            width: 100%;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 16px;
            border: 1px solid #334155;
            overflow: hidden;
            isolation: isolate;
        }
        
        /* CRITICAL: Individual Tab Content - Absolute Positioning */
        .tab-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            padding: 2rem;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            overflow-y: auto;
            background: transparent;
        }
        
        .tab-content.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            z-index: 10;
        }
        
        /* Content styling */
        .content-section {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        
        .content-section h3 {
            margin: 0 0 1rem 0;
            color: #F8FAFC;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .content-section h3 i {
            color: #3B82F6;
        }
        
        .test-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        
        .indicator-success { background: #10B981; }
        .indicator-active { background: #3B82F6; }
        .indicator-inactive { background: #6B7280; }
        
        .test-controls {
            margin: 2rem 0;
            text-align: center;
        }
        
        .test-btn {
            background: #3B82F6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            margin: 0 0.5rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .test-btn:hover {
            background: #2563EB;
            transform: translateY(-2px);
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .data-card {
            background: rgba(15, 23, 42, 0.8);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #334155;
        }
        
        .data-card h4 {
            margin: 0 0 0.5rem 0;
            color: #F8FAFC;
        }
        
        .data-card .value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #10B981;
            margin: 0.5rem 0;
        }
        
        .data-card .label {
            color: #94A3B8;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-graduation-cap"></i> Sistema de Abas - Editor de Estudante</h1>
            <p style="color: #94A3B8; margin: 0.5rem 0 0 0;">
                Teste da corre√ß√£o do problema de sobreposi√ß√£o de abas
            </p>
        </div>
        
        <div class="test-controls">
            <button class="test-btn" onclick="runAutoTest()">
                <i class="fas fa-play"></i> Teste Autom√°tico
            </button>
            <button class="test-btn" onclick="switchTab('profile')">
                üë§ Perfil
            </button>
            <button class="test-btn" onclick="switchTab('financial')">
                üí≥ Financeiro
            </button>
            <button class="test-btn" onclick="switchTab('enrollments')">
                üéì Matr√≠culas
            </button>
            <button class="test-btn" onclick="switchTab('classes')">
                üè´ Turmas
            </button>
            <button class="test-btn" onclick="switchTab('progress')">
                üìä Progresso
            </button>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-navigation">
                <button class="page-tab active" data-tab="profile">
                    üë§ Perfil
                </button>
                <button class="page-tab" data-tab="financial">
                    üí≥ Financeiro
                </button>
                <button class="page-tab" data-tab="enrollments">
                    üéì Matr√≠culas  
                </button>
                <button class="page-tab" data-tab="classes">
                    üè´ Turmas
                </button>
                <button class="page-tab" data-tab="progress">
                    üìä Progresso
                </button>
            </div>
        </div>

        <!-- CRITICAL: Tab Content Container -->
        <div class="tab-content-container">
            <!-- Profile Tab -->
            <div id="profile-content" class="tab-content active">
                <div class="content-section">
                    <h3><i class="fas fa-user"></i> Informa√ß√µes do Aluno</h3>
                    <p><span class="test-indicator indicator-active"></span>Aba do Perfil ativa</p>
                    <div class="data-grid">
                        <div class="data-card">
                            <h4>Nome Completo</h4>
                            <div class="value">Jo√£o Silva</div>
                            <div class="label">Aluno desde Janeiro 2025</div>
                        </div>
                        <div class="data-card">
                            <h4>Categoria</h4>
                            <div class="value">Adulto</div>
                            <div class="label">Faixa et√°ria: 25-45 anos</div>
                        </div>
                        <div class="data-card">
                            <h4>Status</h4>
                            <div class="value">Ativo</div>
                            <div class="label">√öltima aula: Ontem</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Financial Tab -->
            <div id="financial-content" class="tab-content">
                <div class="content-section">
                    <h3><i class="fas fa-credit-card"></i> Dados Financeiros e Matr√≠cula</h3>
                    <p><span class="test-indicator indicator-active"></span>Aba Financeira ativa - com dados de matr√≠cula e curso</p>
                    <div class="data-grid">
                        <div class="data-card">
                            <h4>Assinatura Atual</h4>
                            <div class="value">R$ 149,90</div>
                            <div class="label">Plano Premium - Mensal</div>
                        </div>
                        <div class="data-card">
                            <h4>Matr√≠cula</h4>
                            <div class="value">Krav Maga</div>
                            <div class="label">Curso: Defesa Pessoal 1</div>
                        </div>
                        <div class="data-card">
                            <h4>Pr√≥ximo Vencimento</h4>
                            <div class="value">15/08/2025</div>
                            <div class="label">Em 10 dias</div>
                        </div>
                        <div class="data-card">
                            <h4>Status do Pagamento</h4>
                            <div class="value">Em Dia</div>
                            <div class="label">√öltima cobran√ßa processada</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enrollments Tab -->
            <div id="enrollments-content" class="tab-content">
                <div class="content-section">
                    <h3><i class="fas fa-graduation-cap"></i> Matr√≠culas</h3>
                    <p><span class="test-indicator indicator-active"></span>Aba de Matr√≠culas ativa</p>
                    <div class="data-grid">
                        <div class="data-card">
                            <h4>Krav Maga - Faixa Branca</h4>
                            <div class="value">75%</div>
                            <div class="label">Progresso do curso</div>
                        </div>
                        <div class="data-card">
                            <h4>Data de Matr√≠cula</h4>
                            <div class="value">15/01/2025</div>
                            <div class="label">H√° 6 meses</div>
                        </div>
                        <div class="data-card">
                            <h4>Aulas Conclu√≠das</h4>
                            <div class="value">32</div>
                            <div class="label">De 48 aulas totais</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Classes Tab -->
            <div id="classes-content" class="tab-content">
                <div class="content-section">
                    <h3><i class="fas fa-users"></i> Turmas</h3>
                    <p><span class="test-indicator indicator-active"></span>Aba de Turmas ativa</p>
                    <div class="data-grid">
                        <div class="data-card">
                            <h4>Turma Segunda/Quarta</h4>
                            <div class="value">19:00</div>
                            <div class="label">Instrutor: Carlos Silva</div>
                        </div>
                        <div class="data-card">
                            <h4>Local</h4>
                            <div class="value">Academia Central</div>
                            <div class="label">Sala 2 - Tatame</div>
                        </div>
                        <div class="data-card">
                            <h4>Pr√≥xima Aula</h4>
                            <div class="value">Segunda</div>
                            <div class="label">7 de Agosto</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Tab -->
            <div id="progress-content" class="tab-content">
                <div class="content-section">
                    <h3><i class="fas fa-chart-line"></i> Progresso</h3>
                    <p><span class="test-indicator indicator-active"></span>Aba de Progresso ativa</p>
                    <div class="data-grid">
                        <div class="data-card">
                            <h4>Taxa de Presen√ßa</h4>
                            <div class="value">85%</div>
                            <div class="label">Muito boa frequ√™ncia</div>
                        </div>
                        <div class="data-card">
                            <h4>N√≠vel Atual</h4>
                            <div class="value">Faixa Branca</div>
                            <div class="label">Progredindo bem</div>
                        </div>
                        <div class="data-card">
                            <h4>Pr√≥xima Gradua√ß√£o</h4>
                            <div class="value">Dezembro</div>
                            <div class="label">Estimativa baseada no progresso</div>
                        </div>
                        <div class="data-card">
                            <h4>Habilidades Dominadas</h4>
                            <div class="value">12</div>
                            <div class="label">De 20 habilidades b√°sicas</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Results -->
        <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(15, 23, 42, 0.8); border-radius: 12px; border: 1px solid #334155;">
            <h3 style="margin: 0 0 1rem 0;"><i class="fas fa-clipboard-check"></i> Status do Teste</h3>
            <div id="test-log" style="font-family: monospace; font-size: 0.9rem; color: #CBD5E1;">
                <p>‚úÖ CSS com isolamento aplicado</p>
                <p>‚úÖ Container .tab-content-container com position: relative</p>
                <p>‚úÖ Conte√∫dos .tab-content com position: absolute</p>
                <p>‚úÖ Sistema de transi√ß√µes com opacity</p>
                <p>üéØ Clique nas abas para testar - sem sobreposi√ß√£o!</p>
            </div>
        </div>
    </div>

    <script>
        // Tab switching function with proper isolation
        function switchTab(tabName) {
            console.log(`üîÑ Switching to tab: ${tabName}`);
            
            // Remove active class from all tabs
            document.querySelectorAll('.page-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Add active class to target tab
            const targetTab = document.querySelector(`[data-tab="${tabName}"]`);
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            // Add active class to target content
            const targetContent = document.getElementById(`${tabName}-content`);
            if (targetContent) {
                targetContent.classList.add('active');
            }
            
            // Update test log
            addTestLog(`‚úÖ Switched to ${tabName} - No overlapping detected`);
            
            // Update status indicators
            updateStatusIndicators(tabName);
        }
        
        function addTestLog(message) {
            const log = document.getElementById('test-log');
            const p = document.createElement('p');
            p.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(p);
            log.scrollTop = log.scrollHeight;
        }
        
        function updateStatusIndicators(activeTab) {
            // Update all indicators
            document.querySelectorAll('.test-indicator').forEach(indicator => {
                const section = indicator.closest('.content-section');
                const tabContent = indicator.closest('.tab-content');
                
                if (tabContent && tabContent.classList.contains('active')) {
                    indicator.className = 'test-indicator indicator-active';
                } else {
                    indicator.className = 'test-indicator indicator-inactive';
                }
            });
        }
        
        function runAutoTest() {
            addTestLog('ü§ñ Starting automatic test...');
            
            const tabs = ['profile', 'financial', 'enrollments', 'classes', 'progress'];
            let index = 0;
            
            const interval = setInterval(() => {
                if (index >= tabs.length) {
                    clearInterval(interval);
                    addTestLog('üéâ Automatic test completed!');
                    addTestLog('‚úÖ All tabs work without overlapping');
                    return;
                }
                
                switchTab(tabs[index]);
                index++;
            }, 1500);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîß Initializing tab system...');
            
            // Add click listeners to tabs
            document.querySelectorAll('.page-tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tabName = tab.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Set initial tab
            switchTab('profile');
            
            addTestLog('üöÄ Tab system initialized');
            addTestLog('üìã Ready for testing - click tabs or run auto test');
            
            // Verify CSS setup
            const container = document.querySelector('.tab-content-container');
            const styles = getComputedStyle(container);
            
            if (styles.position === 'relative') {
                addTestLog('‚úÖ Container positioning: relative (correct)');
            } else {
                addTestLog('‚ùå Container positioning issue');
            }
            
            const contents = document.querySelectorAll('.tab-content');
            let correctCount = 0;
            
            contents.forEach(content => {
                const styles = getComputedStyle(content);
                if (styles.position === 'absolute') {
                    correctCount++;
                }
            });
            
            if (correctCount === contents.length) {
                addTestLog(`‚úÖ All ${contents.length} tab contents have absolute positioning`);
            } else {
                addTestLog(`‚ùå Positioning issues: ${correctCount}/${contents.length} correct`);
            }
        });
    </script>
</body>
</html>
