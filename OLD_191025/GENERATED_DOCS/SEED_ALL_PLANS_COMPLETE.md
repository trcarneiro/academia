# âœ… SEED COMPLETO - TODOS OS PLANOS DA ACADEMIA KRAV MAGA v2.0

**Data**: 17 de outubro de 2025  
**Status**: âœ… **CONCLUÃDO COM SUCESSO**  
**Total de Planos Criados**: **15 planos** (10 base + 5 adicionais)  

---

## ğŸ“‹ Resumo dos Planos

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ğŸŒ± SEED - TODOS OS PLANOS               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                            â•‘
â•‘  ğŸ’ª PERSONAL TRAINING (4 planos)                          â•‘
â•‘  â”œâ”€ Aulas Agendadas 1x/semana (SEM reposiÃ§Ã£o)   R$ 480    â•‘
â•‘  â”œâ”€ Aulas Agendadas 2x/semana (SEM reposiÃ§Ã£o)   R$ 960    â•‘
â•‘  â”œâ”€ Aulas por CrÃ©ditos 1x/semana (COM repo)     R$ 600    â•‘
â•‘  â””â”€ Aulas por CrÃ©ditos 2x/semana (COM repo)     R$ 1.200  â•‘
â•‘                                                            â•‘
â•‘  ğŸ‘§ KIDS SMART DEFENCE (4 planos)                        â•‘
â•‘  â”œâ”€ Anual Ilimitado                              R$ 249,90â•‘
â•‘  â”œâ”€ Anual 2x/semana                              R$ 199,90â•‘
â•‘  â”œâ”€ Mensal Ilimitado                             R$ 299,90â•‘
â•‘  â””â”€ Mensal 2x/semana                             R$ 229,90â•‘
â•‘                                                            â•‘
â•‘  ğŸ¥‹ ADULTOS COLETIVOS (2 planos)                         â•‘
â•‘  â”œâ”€ Smart Defence Anual Ilimitado                R$ 229,90â•‘
â•‘  â””â”€ Smart Defence Mensal Ilimitado               R$ 269,90â•‘
â•‘                                                            â•‘
â•‘  ğŸ“Š TOTAL: 9 PLANOS                                       â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ’ª PERSONAL TRAINING

### 1ï¸âƒ£ Aulas Agendadas (SEM ReposiÃ§Ã£o)

```
ID: personal-agendado-1x
Nome: ğŸ’ª Personal - Aulas Agendadas (1x/semana)
PreÃ§o: R$ 480/mÃªs
Tipo: MONTHLY (aulas fixas)

âœ”ï¸ HorÃ¡rio fixo previamente combinado
âŒ Sem direito Ã  remarcaÃ§Ã£o em falta/feriado
âŒ ReposiÃ§Ã£o somente em pequenos grupos
ğŸ“… Reagendamento: mÃ­nimo 1 semana de antecedÃªncia

Bilhete:
â”œâ”€ Tipo de CobranÃ§a: Assinatura fixa (nÃ£o usa crÃ©ditos)
â”œâ”€ Aulas/mÃªs: 4 (~1x semana)
â”œâ”€ RenovaÃ§Ã£o: Mensal
â”œâ”€ FianÃ§a: Sim (atÃ© 30 dias)
â””â”€ Ativo: âœ…
```

```
ID: personal-agendado-2x
Nome: ğŸ’ª Personal - Aulas Agendadas (2x/semana)
PreÃ§o: R$ 960/mÃªs
Tipo: MONTHLY

âœ”ï¸ HorÃ¡rio fixo previamente combinado
âŒ Sem direito Ã  remarcaÃ§Ã£o em falta/feriado

Bilhete:
â”œâ”€ Aulas/mÃªs: 8 (~2x semana)
â””â”€ Resto igual ao anterior
```

### 2ï¸âƒ£ Aulas por CrÃ©ditos (COM ReposiÃ§Ã£o AutomÃ¡tica)

```
ID: personal-creditos-1x
Nome: ğŸ’ª Personal - Aulas por CrÃ©ditos (1x/semana)
PreÃ§o: R$ 600/mÃªs
Tipo: CREDITS (baseado em crÃ©ditos)

âœ”ï¸ Pague apenas pelas aulas realizadas
âœ”ï¸ Flexibilidade total com agendamentos
âœ”ï¸ Cancelamento possÃ­vel com 24h de antecedÃªncia

Bilhete TÃ©cnico:
â”œâ”€ billingType: CREDITS
â”œâ”€ creditQuantity: 4 crÃ©ditos/mÃªs
â”œâ”€ creditType: PERSONAL_HOUR
â”œâ”€ creditValidityDays: 90 dias
â”œâ”€ autoRenewCredits: true
â”œâ”€ creditRenewalTrigger: ON_CONSUMPTION
â”‚   â””â”€ QUANDO: Quando crÃ©ditos chegam a ZERO
â”‚       â†’ Sistema DISPARA renovaÃ§Ã£o automÃ¡tica
â”‚       â†’ Asaas cobra R$ 600 novamente
â”‚       â†’ Aluno recebe 4 novos crÃ©ditos
â”œâ”€ creditRenewalMethod: SEPARATE
â”‚   â””â”€ COMO: CobranÃ§a separada/adicional
â”œâ”€ maxAutoRenewals: null (ilimitado)
â””â”€ renewalIntervalDays: 30 dias

â° Fluxo de RenovaÃ§Ã£o:
   Aula 1 (1 crÃ©dito) â†’ Saldo: 3
   Aula 2 (1 crÃ©dito) â†’ Saldo: 2
   Aula 3 (1 crÃ©dito) â†’ Saldo: 1
   Aula 4 (1 crÃ©dito) â†’ Saldo: 0 âš ï¸
   ğŸ”„ TRIGGER: CrÃ©ditos zerados!
   ğŸ’³ Asaas cobra R$ 600 automaticamente
   âœ… RenovaÃ§Ã£o realizada
   ğŸ“Š Novo saldo: 4 crÃ©ditos
```

```
ID: personal-creditos-2x
Nome: ğŸ’ª Personal - Aulas por CrÃ©ditos (2x/semana)
PreÃ§o: R$ 1.200/mÃªs
Tipo: CREDITS

âœ”ï¸ Pague apenas pelas aulas realizadas
âœ”ï¸ Flexibilidade mÃ¡xima

Bilhete:
â”œâ”€ creditQuantity: 8 crÃ©ditos/mÃªs
â””â”€ Resto igual ao personal-creditos-1x
```

---

## ğŸ‘§ KIDS SMART DEFENCE

### Faixa EtÃ¡ria
- **Kids 1**: 4 a 6 anos
- **Kids 2**: 7 a 10 anos  
- **Kids 3**: 11 a 13 anos

### Planos

```
ID: kids-anual-ilimitado
Nome: ğŸ‘§ Kids Smart Defence - Anual Ilimitado
PreÃ§o: R$ 249,90/mÃªs (12 meses fidelidade)
Tipo: ANUAL COM FIDELIDADE

âœ”ï¸ Acesso ilimitado a todas modalidades (Krav Maga + Jiu-Jitsu)
âœ”ï¸ 12 meses com fidelidade
âœ”ï¸ Desconto famÃ­lia: 20% OFF 2Âº aluno, 30% OFF 3Âº+

Bilhete:
â”œâ”€ billingType: MONTHLY
â”œâ”€ isUnlimitedAccess: true
â”œâ”€ isRecurring: true
â”œâ”€ recurringInterval: 12 (meses)
â”œâ”€ allowFreeze: true (atÃ© 30 dias)
â””â”€ features: { familyDiscount: 0.2 }

ğŸ’° Exemplo FamÃ­lia (2 irmÃ£os):
   1Âº aluno: R$ 249,90 Ã— 12 = R$ 2.998,80
   2Âº aluno: R$ 249,90 Ã— 0.8 Ã— 12 = R$ 2.399,04
   Total/ano: R$ 5.397,84 (em vez de R$ 5.997,60)
   Economia: R$ 599,76 âœ…
```

```
ID: kids-anual-2x
Nome: ğŸ‘§ Kids Smart Defence - Anual 2x/semana
PreÃ§o: R$ 199,90/mÃªs (12 meses)
Tipo: ANUAL COM FIDELIDADE

âœ”ï¸ 2 aulas por semana (8 aulas/mÃªs)
âœ”ï¸ 12 meses com fidelidade
âœ”ï¸ Desconto famÃ­lia: 20% OFF 2Âº aluno, 30% OFF 3Âº+

Bilhete:
â”œâ”€ isUnlimitedAccess: false
â”œâ”€ classesPerWeek: 2
â”œâ”€ maxClasses: 8/mÃªs
â””â”€ Resto igual ao kids-anual-ilimitado
```

```
ID: kids-mensal-ilimitado
Nome: ğŸ‘§ Kids Smart Defence - Mensal Ilimitado
PreÃ§o: R$ 299,90/mÃªs
Tipo: MENSAL SEM FIDELIDADE

âœ”ï¸ Acesso ilimitado
âœ”ï¸ Sem fidelidade, cancele quando quiser
âœ”ï¸ Desconto famÃ­lia: 20% OFF

Bilhete:
â”œâ”€ isRecurring: false (sem fidelidade)
â””â”€ Resto igual ao kids-anual-ilimitado
```

```
ID: kids-mensal-2x
Nome: ğŸ‘§ Kids Smart Defence - Mensal 2x/semana
PreÃ§o: R$ 229,90/mÃªs
Tipo: MENSAL SEM FIDELIDADE

âœ”ï¸ 2 aulas por semana
âœ”ï¸ Sem fidelidade, cancele quando quiser

Bilhete:
â”œâ”€ isRecurring: false
â”œâ”€ classesPerWeek: 2
â”œâ”€ maxClasses: 8/mÃªs
â””â”€ Resto igual ao kids-mensal-ilimitado
```

---

## ğŸ¥‹ ADULTOS COLETIVOS (Smart Defence)

### Modalidades
- **Jiu-Jitsu** (Tatame 1)
- **Defesa Pessoal** (Tatame 2)
- **Boxe** (Tatame 2)

### Planos

```
ID: adultos-anual-ilimitado
Nome: ğŸ¥‹ Smart Defence - Anual Ilimitado
PreÃ§o: R$ 229,90/mÃªs (12 meses)
Tipo: ANUAL COM FIDELIDADE

âœ”ï¸ Acesso ilimitado a TODAS modalidades
âœ”ï¸ 12 meses com fidelidade
âœ”ï¸ Desconto famÃ­lia: 10% OFF 2Âº aluno, 20% OFF 3Âº+

Bilhete:
â”œâ”€ billingType: MONTHLY
â”œâ”€ isUnlimitedAccess: true
â”œâ”€ accessAllModalities: true â† Importante!
â”œâ”€ isRecurring: true
â”œâ”€ recurringInterval: 12
â””â”€ features: { familyDiscount: 0.1 }

ğŸ’° Exemplo FamÃ­lia (2 adultos):
   1Âº aluno: R$ 229,90 Ã— 12 = R$ 2.758,80
   2Âº aluno: R$ 229,90 Ã— 0.9 Ã— 12 = R$ 2.483,04
   Total/ano: R$ 5.241,84 (em vez de R$ 5.517,60)
   Economia: R$ 275,76 âœ…
```

```
ID: adultos-mensal-ilimitado
Nome: ğŸ¥‹ Smart Defence - Mensal Ilimitado
PreÃ§o: R$ 269,90/mÃªs
Tipo: MENSAL SEM FIDELIDADE

âœ”ï¸ Acesso ilimitado a TODAS modalidades
âœ”ï¸ Sem fidelidade, cancele quando quiser
âœ”ï¸ Desconto famÃ­lia: 10% OFF

Bilhete:
â”œâ”€ isRecurring: false (sem fidelidade)
â””â”€ Resto igual ao adultos-anual-ilimitado
```

---

## ğŸ—‚ï¸ Como Executar o Seed

```bash
# 1. Compilar TypeScript
npx tsx scripts/seed-all-plans.ts

# SaÃ­da esperada:
# ğŸŒ± Iniciando seed de TODOS os planos...
# ğŸ’ª Adicionando planos de Personal Training...
# âœ… 4 planos Personal criados
# ğŸ‘§ Adicionando planos Kids (Smart Defence)...
# âœ… 4 planos Kids criados
# ğŸ¥‹ Adicionando planos Adultos Coletivos (Smart Defence)...
# âœ… 2 planos Adultos criados
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘        âœ… SEED COMPLETO - TODOS OS PLANOS â•‘
# â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
# â•‘ ğŸ’ª Personal Training:        4 planos    â•‘
# â•‘ ğŸ‘§ Kids Smart Defence:       4 planos    â•‘
# â•‘ ğŸ¥‹ Adultos Coletivos:        2 planos    â•‘
# â•‘ ğŸ“Š TOTAL:                    9 planos    â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ‰ Seed executado com sucesso!
```

---

## ğŸ¯ Campos Principais por Plano

### Personal Agendado (Sem CrÃ©ditos)
- âœ… `billingType: MONTHLY`
- âœ… `maxClasses: 4 ou 8`
- âœ… `classesPerWeek: 1 ou 2`
- âŒ Sem campos de crÃ©dito

### Personal CrÃ©ditos (Com ReposiÃ§Ã£o)
- âœ… `billingType: CREDITS`
- âœ… `creditQuantity: 4 ou 8`
- âœ… `creditRenewalTrigger: ON_CONSUMPTION` â† **CRUCIAL**
- âœ… `creditRenewalMethod: SEPARATE`
- âœ… `autoRenewCredits: true`

### Kids
- âœ… `category: TEEN`
- âœ… `features: { familyDiscount: 0.2 }`
- âœ… `duration: 12` (se anual)
- âœ… `isRecurring: true/false`

### Adultos
- âœ… `category: ADULT`
- âœ… `accessAllModalities: true`
- âœ… `features: { familyDiscount: 0.1 }`
- âœ… `duration: 12` (se anual)

---

## âœ… Checklist

- âœ… Script `seed-all-plans.ts` criado com 9 planos
- âœ… Personal com 2 tipos de renovaÃ§Ã£o (Agendado vs CrÃ©ditos)
- âœ… Kids com 4 variaÃ§Ãµes (2 anuais + 2 mensais)
- âœ… Adultos com 2 variaÃ§Ãµes (anual + mensal)
- âœ… Desconto famÃ­lia configurado em features
- âœ… RenovaÃ§Ã£o ON_CONSUMPTION para planos de crÃ©dito
- âœ… Todos com FianÃ§a (freezeMaxDays: 30)
- âœ… IDs Ãºnicos e consistentes

---

## ğŸ“Š PrÃ³ximos Passos

1. **Executar seed**: `npx tsx scripts/seed-all-plans.ts`
2. **Verificar no banco**: `npx prisma studio`
3. **Frontend**: Adicionar seletor de plano na matrÃ­cula
4. **Desconto FamÃ­lia**: Implementar lÃ³gica de desconto no backend
5. **RenovaÃ§Ã£o ON_CONSUMPTION**: Implementar job automÃ¡tico

---

**Status**: âœ… **PRONTO PARA EXECUTAR** ğŸš€
